<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3XZ18739WF"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-3XZ18739WF');
    </script>
    <script>
        function hamburgToggle() {
            let linkWrapper = document.getElementById('mobile-links-wrapper');
            if (linkWrapper.style.display === "block") {
                linkWrapper.style.display = "none";
            } else {
                linkWrapper.style.display = "block";
            }
        }
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/styles.css?2">
    <link rel="stylesheet" href="css/event-planner.css?9">
    <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-minimal@4/minimal.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="packages/javascript-lp-solver/solver.js"></script>
    <script src="packages/tippyjs/popper.js"></script>
    <script src="packages/tippyjs/tippy.js"></script>
    <link rel="stylesheet" href="packages/tippyjs/light.css" />
    <script src="packages/mathjs/math.js"></script>
    <script src="js/config.js?15"></script>
    <script src="js/common.js?5"></script>
    <script src="js/eventPlanner.js?18"></script>
    <title>Event Planner</title>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://justin163.com/planner/events">
    <meta property="og:image" itemprop="image primaryImageOfPage"
        content="https://justin163.com/planner/icons/Misc/EmbedIcon.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="justin163.com">
    <meta name="twitter:title" property="og:title" itemprop="name" content="Blue Archive Event Planner">
    <meta name="twitter:description" property="og:description" itemprop="description"
        content="A tool to optimise event resource income, plan energy spend and stage farming">
    <meta name="theme-color" content="#ff00bb">
</head>

<body class="background dark-theme" onload="loadResources()">
    <nav class="navbar navbground">
        <span class="logo">Justin163</span>
        <img src="icons/UI/hamburger.svg" id="hamburger" onclick="hamburgToggle()">
        <ul class="nav-list">
            <li><a href="index.html">Resource Planner</a></li>
            <li><a class="active">Event Planner</a></li>
            <li><a href="changelog.html">Changelog</a></li>
            <li><a href="privacy.html">Privacy</a></li>
        </ul>
        <div class="nav-right">
            <img id="image-style-button" src="icons/UI/ShirokoIcon.png" onclick="ToggleImageStyle()">
            <select name="languages" id="languages" onchange="languageChanged()"></select>
            <img src="icons/UI/sun.svg" id="theme-button" onclick="switchTheme()">
        </div>
    </nav>
    <div id="mobile-links-wrapper">
        <ul class="mobile-links">
            <li><a href="index.html">Resource Planner</a></li>
            <li><a class="active">Event Planner</a></li>
            <li><a href="changelog.html">Changelog</a></li>
            <li><a href="privacy.html">Privacy</a></li>
        </ul>
    </div>
    <div id="body-content-container">
        <div id="event-list-button" onclick="ToggleEventList()">
            <img src="icons/UI/hamburger.svg">
            <p id="event-list-button-label">Event List</p>
        </div>
        <div id="events-list"></div>
        <div id="event-content-container">
            <div id="event-tab-menu">
                <div id="tab-Targets" class="event-tab-button" onclick="EventTabClicked('Targets')">Targets</div>
                <div id="tab-Energy" class="event-tab-button" onclick="EventTabClicked('Energy')">Energy</div>
                <div id="tab-Bonus" class="event-tab-button" onclick="EventTabClicked('Bonus')">Bonus</div>
                <div id="tab-Shop" class="event-tab-button" onclick="EventTabClicked('Shop')">Shop</div>
                <div id="tab-Stages" class="event-tab-button" onclick="EventTabClicked('Stages')">Stages</div>
                <div id="tab-Lessons" class="event-tab-button" onclick="EventTabClicked('Lessons')"
                    style="display: none;">Lessons</div>
                <div id="tab-Points" class="event-tab-button" onclick="EventTabClicked('Points')"
                    style="display: none;">Point Rewards</div>
                <div id="tab-Boxes" class="event-tab-button" onclick="EventTabClicked('Boxes')" style="display: none;">
                    Boxes</div>
                <div id="tab-Cards" class="event-tab-button" onclick="EventTabClicked('Cards')" style="display: none;">
                    Cards</div>
            </div>
            <div id="info-notifications">
                <div id="notification-bonus" style="display: none;">
                    <img src="icons/UI/x-mark-128.png">
                    <p class="notification-text">No bonus chars set</p>
                    <p class="notification-button" onclick="EventTabClicked('Bonus')"><u>Check Now</u></p>
                </div>
                <div id="notification-energy" style="display: none;">
                    <img src="icons/UI/x-mark-128.png">
                    <p class="notification-text">No energy sources set</p>
                    <p class="notification-button" onclick="EventTabClicked('Energy')"><u>Check Now</u></p>
                    <p style="margin-left: 0.5em;">or</p>
                    <p class="notification-button" onclick="DismissNotification('Energy')"><u>Dismiss</u></p>
                </div>
                <div id="notification-optimisation" style="display: none;">
                    <img src="icons/UI/x-mark-128.png">
                    <p class="notification-text">No optimisation target set</p>
                    <p class="notification-button" onclick="EventTabClicked('Targets')"><u>Check Now</u></p>
                </div>
                <div id="notification-lessons" style="display: none;">
                    <img src="icons/UI/x-mark-128.png">
                    <p class="notification-text">Event points not all spent on lessons</p>
                    <p class="notification-button" onclick="EventTabClicked('Lessons')"><u>Check Now</u></p>
                </div>
                <div id="notification-cards" style="display: none;">
                    <img src="icons/UI/x-mark-128.png">
                    <p class="notification-text">Card gacha not simulated after pull currency changed</p>
                    <p class="notification-button" onclick="EventTabClicked('Cards')"><u>Check Now</u></p>
                </div>
            </div>
            <div class="event-tab" id="Targets-tab">
                <div id="optimisation-approaches-container">
                    <div class="optimise-approach-button" id="tab-opti-Shop" onclick="SetOptimise('Shop')">Min Clear
                    </div>
                    <div class="optimise-approach-button" id="tab-opti-Materials" onclick="SetOptimise('Materials')">
                        Materials</div>
                    <div class="optimise-approach-button" id="tab-opti-Currency" onclick="SetOptimise('Currency')">
                        Currency</div>
                    <div class="optimise-approach-button" id="tab-opti-Manual" onclick="SetOptimise('Manual')">Manual
                    </div>
                </div>
                <div id="optimisation-settings-container"></div>
            </div>
            <div class="event-tab" id="Energy-tab">
                <div id="energy-sources-fixed-container">
                    <div id="energy-source-natural" class="energy-source">
                        <img src="icons/EventIcon/EnergyIcon/EnergyNatural.png">
                        <p id="energy-natural-total">0</p>
                    </div>
                    <div id="energy-source-dailies" class="energy-source">
                        <img src="icons/EventIcon/EnergyIcon/EnergyDailyTask.png">
                        <p id="energy-dailytask-total">0</p>
                    </div>
                    <div id="energy-source-club" class="energy-source">
                        <img src="icons/EventIcon/EnergyIcon/EnergyClub.png">
                        <p id="energy-club-total">0</p>
                    </div>
                    <div id="energy-source-weeklies" class="energy-source">
                        <img src="icons/EventIcon/EnergyIcon/EnergyWeeklyTask.png">
                        <p id="energy-weeklytask-total">0</p>
                    </div>
                    <div id="energy-source-arona" class="energy-source">
                        <img src="icons/EventIcon/EnergyIcon/Loading_Arona.png">
                        <p id="energy-aronalogin-total">0</p>
                    </div>
                </div>
                <div id="energy-sources-editable-container">
                    <div id="energy-source-pyro" class="energy-source energy-editable"
                        onclick="EnergySourceClicked('Pyro')">
                        <div>
                            <img src="icons/EventIcon/EnergyIcon/EnergyPyro.png">
                            <p id="energy-source-pyro-refresh" class="energy-source-setting"></p>
                        </div>
                        <p id="energy-pyro-total">0</p>
                    </div>
                    <div id="energy-source-pvp" class="energy-source energy-editable"
                        onclick="EnergySourceClicked('ArenaCoin')">
                        <div>
                            <img src="icons/EventIcon/EnergyIcon/EnergyPvp.png">
                            <p id="energy-source-pvp-refresh" class="energy-source-setting"></p>
                        </div>
                        <p id="energy-arenacoin-total">0</p>
                    </div>
                    <div id="energy-source-cafe" class="energy-source energy-editable"
                        onclick="EnergySourceClicked('Cafe')">
                        <div>
                            <img src="icons/EventIcon/EnergyIcon/Common_Icon_Cafe.png">
                            <p id="energy-source-cafe-level" class="energy-source-setting"></p>
                        </div>
                        <p id="energy-cafe-total">0</p>
                    </div>
                    <div id="energy-source-pack" class="energy-source energy-editable"
                        onclick="EnergySourceClicked('EnergyPack')">
                        <img src="icons/EventIcon/EnergyIcon/Goods_Icon_Biweekly_0.png">
                        <p id="energy-energypack-total">0</p>
                    </div>
                    <div id="energy-sources-total" class="energy-source">
                        <img src="icons/EventIcon/EnergyIcon/Energy.png">
                        <p id="energy-total">0</p>
                    </div>
                </div>
                <p id="disclaimer-event-energy">Energy subsections are showing amount generated for the whole event
                    length</p>
            </div>
            <div class="event-tab" id="Bonus-tab">
                <div id="bonus-chars-header">
                    <p style="margin-left: 1em; margin-bottom: 1em;">Click character to toggle</p>
                    <p id="bonus-chars-all-button" onclick="BonusCharsEnableAll()">Enable All</p>
                </div>
                <div id="bonus-chars-container"></div>
                <div id="currency-bonuses"></div>
                <p id="info-event-bonus-maximise" style="display: none;">How to maximise event farming</p>
            </div>
            <div class="event-tab" id="Shop-tab">
                <div id="currency-shop-tabs"></div>
                <div id="currency-shop-content"></div>
            </div>
            <div class="event-tab" id="Stages-tab">
                <div id="stages-table-container"></div>
                <div id="stage-groups-container" style="display: none;">
                    <p style="margin-left: 1em;">Enabled:</p>
                    <input type="checkbox" id="include-stage-group-1" name="include-stage-group-1"
                        onclick="StageGroupsStatusUpdate()">
                    <label id="label-stage-group-1" for="include-stage-group-1">Stages 1-4</label>
                    <input type="checkbox" id="include-stage-group-2" name="include-stage-group-2"
                        onclick="StageGroupsStatusUpdate()">
                    <label id="label-stage-group-2" for="include-stage-group-2">Stages 5-8</label>
                    <input type="checkbox" id="include-stage-group-3" name="include-stage-group-3"
                        onclick="StageGroupsStatusUpdate()">
                    <label id="label-stage-group-3" for="include-stage-group-3">Stages 9-12</label>
                </div>
                <div id="temp-disclaimer" style="margin-bottom: 1em; display: none;">
                    <p style="margin-left: 1em;">It takes about 750 bottles per lap, after about lap 30 (~22,500
                        bottles) the rewards plateau a bit, after lap 50 (~37,500) the rewards plateau a lot.</p>
                    <p style="margin-left: 1em;">I've set the min clear amount at 15k bottles (~20 laps) as I didn't
                        have time to make a proper simulation for this event</p>
                    <p style="margin-left: 1em; overflow-wrap: anywhere;">Can use the following sheet by VGrunner12#2355 to check approx rewards
                        from the laps
                        https://docs.google.com/spreadsheets/d/1Hb8n7gAlhqHZBwyq8sc3QZNyKlUk7bAhcoQv04kRHeE/edit#gid=0
                    </p>
                </div>
                <div id="intial-clear-container">
                    <p style="margin-left: 1em;">Intial Clear (included in total below) (also includes story stage
                        clears)</p>
                    <div id="initial-clear-display-container"></div>
                </div>
            </div>
            <div class="event-tab" id="Lessons-tab">
                <div id="lessons-header-container">
                    <p id="lesson-points-remaining-info">Remaining<br>Points:</p>
                    <div id="lesson-points-remaining-container">
                        <img src="icons/EventIcon/CurrencyIcon/Event_Point.png">
                        <p id="lesson-points-remaining"></p>
                    </div>
                    <p id="lesson-points-rankup-info">Points to<br>Rank Up:</p>
                    <div id="lesson-points-rankup-container">
                        <img src="icons/EventIcon/CurrencyIcon/Event_Point.png">
                        <p id="lesson-points-rankup"></p>
                    </div>
                    <p id="reset-lessons-button" onclick="ResetLessons()">Reset Lessons</p>
                </div>
                <div id="lessons-container"></div>
            </div>
            <div class="event-tab" id="Points-tab">
                <div id="points-header">
                    <p style="margin-left: 1em; margin-bottom: 1em;">Click point tier to set as minimum target</p>
                </div>
                <div id="points-table-container"></div>
            </div>
            <div class="event-tab" id="Boxes-tab">
                <div id="box-cycle-tabs"></div>
                <div id="box-cycle-content"></div>
            </div>
            <div class="event-tab" id="Cards-tab">
                <div id="cards-sd-container">
                    <p style="margin-right: 1em;">Rng Adjust:</p>
                    <input type="range" min="-2" max="1" value="0" step="0.5" oninput="SDSliderChanged()"
                        onchange="SDSliderSet()" id="sd-slider">
                    <p id="display-standard-deviation">Avg</p>
                    <button id="gacha-sim-button" onclick="SimButtonClicked()">Simulate Gacha</button>
                </div>
                <div style="margin-left: 1em;">Currently only simulating by pulling first card and resetting, other pull
                    methods will be available later (but reward difference
                    between first pull and pull to SR methods are negligible so doesn't change much)</div>
                <div id="cards-tabs">
                    <div class="cards-rarity-tab" id="tab-cards-ur" onclick="GenerateCardsRarityTable(['UR'])">UR</div>
                    <div class="cards-rarity-tab" id="tab-cards-sr-r" onclick="GenerateCardsRarityTable(['SR', 'R_'])">
                        SR / R
                    </div>
                    <div class="cards-rarity-tab" id="tab-cards-n" onclick="GenerateCardsRarityTable(['N_'])">N</div>
                    <div class="cards-rarity-tab" onclick="HideCards()">Hide Cards</div>
                </div>
                <div id="cards-table-container"></div>
            </div>
            <div id="reward-display-options-container">
                <p style="margin-left: 1em;">Display:</p>
                <input type="checkbox" id="include-shop-purchases" name="include-shop-purchases"
                    onclick="DisplayOptionClicked('ShopPurchases')">
                <label id="label-shop-purchases" for="include-shop-purchases">Shop Purchases</label>
                <input type="checkbox" id="include-point-rewards" name="include-point-rewards"
                    onclick="DisplayOptionClicked('PointRewards')" style="display: none;">
                <label id="label-point-rewards" for="include-point-rewards" style="display: none;">Point Rewards</label>
                <input type="checkbox" id="include-box-rewards" name="include-box-rewards"
                    onclick="DisplayOptionClicked('BoxRewards')" style="display: none;">
                <label id="label-box-rewards" for="include-box-rewards" style="display: none;">Box Rewards</label>
                <input type="checkbox" id="include-lesson-rewards" name="include-lesson-rewards"
                    onclick="DisplayOptionClicked('LessonRewards')" style="display: none;">
                <label id="label-lesson-rewards" for="include-lesson-rewards" style="display: none;">Lesson
                    Rewards</label>
                <input type="checkbox" id="include-card-rewards" name="include-card-rewards"
                    onclick="DisplayOptionClicked('CardRewards')" style="display: none;">
                <label id="label-card-rewards" for="include-card-rewards" style="display: none;">Card Rewards</label>
            </div>
            <div id="disclaimer-text"></div>
            <div id="box-info-text"></div>
            <div id="rewards-container"></div>
            <div id="info-select-event">Select an Event</div>
        </div>
    </div>
</body>

</html>