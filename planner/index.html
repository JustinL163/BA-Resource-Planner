<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3XZ18739WF"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-3XZ18739WF');
    </script>
    <meta charset="utf-8">
    <link rel="stylesheet" href="styles.css?10">
    <title>Blue Archive Resource Planner</title>
    <style id="toggleViewStyle" class="modifyable"></style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-minimal@4/minimal.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@shopify/draggable@1.0.0-beta.12/lib/draggable.bundle.js"></script>
    <script src="config.js?6"></script>
    <script src="pageLogic.js?18"></script>
    <script src="filters.js?1"></script>
</head>

<body class="background dark-theme" onload="init()">
    <nav class="navbar navbground">
        <span class="logo">Justin163</span>
        <ul class="nav-list">
            <li><a class="active">Resource Planner</a></li>
            <li><a href="changelog.html">Changelog</a></li>
            <li><a href="privacy.html">Privacy</a></li>
        </ul>
        <img src="icons/sun.svg" id="theme-button" onclick="switchTheme()" style="max-width: 40px; filter: invert(1);">
    </nav>
    <div class="bodyContainer">
        <div id="boxesContainer" class="mainContainer">
            <div id="charsContainerActions">
                <label class="char-action-label">Group</label>
                <select name="filter-groups" id="filter-groups" onchange="filterChanged('group')">
                </select>
                <button class="charEditorButton" onclick="resetFilters()">Reset Filters</button>
                <button class="charEditorButton" onclick="charactersToggle('enable')">Enable All</button>
                <button class="charEditorButton" onclick="charactersToggle('disable')">Disable All</button>
                <button class="charEditorButton" onclick="toggleViewFilters()">Filters</button>
            </div>
            <div id="charsContainer">
            </div>
        </div>
        <div id="viewFilters" class="modifyable" style="display: none;">
        </div>
        <div id="teamsEditorContainer" class="mainContainer" style="display: none;">
            <div id="teamEditorActions">
                <select name="groups" id="select-groups" onchange="groupSelected()">
                    <option hidden disabled selected value="blankselect">--Select group--</option>
                </select>
                <button class="teamEditorButton" onclick="addNewGroup()">New Group</button>
                <button class="teamEditorButton" onclick="renameGroup()">Rename Group</button>
                <button class="teamEditorButton" onclick="deleteGroup()">Delete Group</button>
                <button class="teamEditorButton" onclick="addNewTeam([null,null,null,null,null,null])">Add Team</button>
                <button id="group-move-mode" class="teamEditorButton" onclick="groupEditorMode('Move')">Add/Move</button>
                <button id="group-remove-mode" class="teamEditorButton" onclick="groupEditorMode('Remove')">Remove</button>
                <button class="teamEditorButton" onclick="getTextGroup()">Text Form</button>
            </div>
            <div id="teamsContainer">
            </div>
        </div>
    </div>
    <div class="modal" id="characterModal">
        <div class="modal-content-wrapper" id="character-modal-wrapper" style="display: block;">
            <div style="display: flex; flex-wrap: wrap; overflow-y: auto; overflow-x: clip; max-height: 65vh;">
                <div class="charBox" id="displayChar">
                    <div class="charBoxwrap">
                        <div class="main-box-content">
                            <img draggable="false" id="displayImg">
                            <div class="nameBar">
                                <p id="displayName"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-content-section" style="min-width: 30px; margin: initial;">
                    <img class="action-icon" src="icons/cross.svg" onclick="deleteClicked()" style="max-width: 25px;">
                </div>
                <div class="modal-content-section" style="width: 20%; min-width: 180px;">
                    <p>School</p>
                    <p id="display_school" class="char-info-text"></p>
                    <br>
                    <p>Type</p>
                    <p id="display_type" class="char-info-text"></p>
                </div>
                <div class="modal-content-section" style="width: 10%; min-width: 80px;">
                    <p>Role</p>
                    <p id="display_role"></p>
                    <br>
                    <p>Position</p>
                    <p id="display_position"></p>
                    <br>
                    <p>Gun</p>
                    <p id="display_gun"></p>
                </div>
                <div class="modal-content-section" style="width:15%; min-width: 100px;">
                    <p>Attack Type</p>
                    <p id="display_attack_type" class="char-info-text"></p>
                    <br>
                    <p>Defense Type</p>
                    <p id="display_defense_type" class="char-info-text"></p>
                </div>
                <div class="modal-content-section" style="width: 25%; min-width: 150px; display: flex;">
                    <div class="mood-wrapper">
                        <p>Urban</p>
                        <img src="icons/Terrain_Urban.png" class="terrain-icon"></img>
                        <img id="mood-Urban" class="mood-icon"></img>
                    </div>
                    <div class="mood-wrapper">
                        <p>Outdoors</p>
                        <img src="icons/Terrain_Outdoors.png" class="terrain-icon"></img>
                        <img id="mood-Outdoors" class="mood-icon"></img>
                    </div>
                    <div class="mood-wrapper">
                        <p>Indoors</p>
                        <img src="icons/Terrain_Indoors.png" class="terrain-icon"></img>
                        <img id="mood-Indoors" class="mood-icon"></img>
                    </div>
                </div>
                <div class="modal-content-section" style="width: 15%; min-width: 185px; display: flex;">
                    <div class="content-section-wrapper" style="padding: 6% 7% 6% 0;">
                        <div class="section-label">
                            <p class="section-name" title="Click for presets">Level</p>
                        </div>
                        <div>
                            <p>Current</p>
                            <input id="input_level_current" type="number" class="two_digit_input">
                            <p>Target</p>
                            <input id="input_level_target" type="number" class="two_digit_input">
                        </div>
                    </div>
                </div>
                <div class="modal-content-section" style="width: 20%; min-width: 250px; display: flex;">
                    <div class="content-section-wrapper" style="padding: 3% 5% 3% 0;">
                        <div class="section-label">
                            <p class="section-name">Stars</p>
                        </div>
                        <div>
                            <p>Current</p>
                            <div id="star-current-container" style="display: flex;">
                                <img draggable="false" id="star-current-1" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="star-current-2" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="star-current-3" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="star-current-4" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="star-current-5" class="star-icon" src="icons/star.png">
                            </div>
                            <p>Target</p>
                            <div id="star-target-container" style="display: flex;">
                                <img draggable="false" id="star-target-1" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="star-target-2" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="star-target-3" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="star-target-4" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="star-target-5" class="star-icon" src="icons/star.png">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-content-section" style="width: 20%; min-width: 280px; display: flex;">
                    <div class="content-section-wrapper" style="padding: 3% 5% 3% 0;">
                        <div class="section-label">
                            <p class="section-name">UE</p>
                        </div>
                        <div>
                            <p>Current</p>
                            <div id="ue-current-container" style="display: flex;">
                                <img draggable="false" id="ue-current-1" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="ue-current-2" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="ue-current-3" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="ue-current-4" class="star-icon" src="icons/star.png"
                                    style="visibility: hidden;">
                                <img draggable="false" id="ue-current-5" class="star-icon" src="icons/star.png"
                                    style="visibility: hidden;">
                            </div>
                            <p>Target</p>
                            <div id="ue-target-container" style="display: flex;">
                                <img draggable="false" id="ue-target-1" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="ue-target-2" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="ue-target-3" class="star-icon" src="icons/star.png">
                                <img draggable="false" id="ue-target-4" class="star-icon" src="icons/star.png"
                                    style="visibility: hidden;">
                                <img draggable="false" id="ue-target-5" class="star-icon" src="icons/star.png"
                                    style="visibility: hidden;">
                            </div>
                        </div>
                        <div style="margin-left: 10px;">
                            <br>
                            <input id="input_ue_level_current" type="number" class="two_digit_input">
                            <br><br>
                            <input id="input_ue_level_target" type="number" class="two_digit_input">
                        </div>
                    </div>
                </div>
                <div class="modal-content-section" style="width: 15%; min-width: 183px; display: flex;">
                    <div class="content-section-wrapper" style="padding: 6% 7% 6% 0;">
                        <div class="section-label">
                            <p class="section-name">Bond</p>
                        </div>
                        <div>
                            <img draggable="false">
                        </div>
                        <div>
                            <p>Current</p>
                            <input id="input_bond_current" type="number" class="two_digit_input">
                            <p>Target</p>
                            <input id="input_bond_target" type="number" class="two_digit_input">
                        </div>
                    </div>
                </div>
                <div class="modal-content-section"
                    style="width: 45%; min-width: 400px; display: flex; margin-top: 10px;">
                    <div class="content-section-wrapper" style="padding-right: 15%; padding-top: 2%;">
                        <div class="section-label">
                            <p class="section-name" title="Click for presets">Skills</p>
                        </div>
                        <div>
                            <br>
                            <p>Current</p>
                            <br><br><br>
                            <p>Target</p>
                            <br>
                        </div>
                        <div class="sub-skill">
                            <p>EX</p>
                            <input id="input_ex_current" type="number" class="two_digit_input">
                            <br>
                            <img id="ex-img" class="skill-img" draggable="false">
                            <br>
                            <input id="input_ex_target" type="number" class="two_digit_input">
                        </div>
                        <div class="sub-skill">
                            <p>Basic</p>
                            <input id="input_basic_current" type="number" class="two_digit_input">
                            <br>
                            <img id="basic-img" class="skill-img" draggable="false">
                            <br>
                            <input id="input_basic_target" type="number" class="two_digit_input">
                        </div>
                        <div class="sub-skill">
                            <p>Enhanced</p>
                            <input id="input_enhanced_current" type="number" class="two_digit_input">
                            <br>
                            <img id="enhanced-img" class="skill-img" draggable="false">
                            <br>
                            <input id="input_enhanced_target" type="number" class="two_digit_input">
                        </div>
                        <div class="sub-skill">
                            <p>Sub</p>
                            <input id="input_sub_current" type="number" class="two_digit_input">
                            <br>
                            <img id="sub-img" class="skill-img" draggable="false">
                            <br>
                            <input id="input_sub_target" type="number" class="two_digit_input">
                        </div>
                    </div>
                </div>
                <div class="modal-content-section"
                    style="width: 45%; min-width: 400px; display: flex; margin-top: 10px; justify-content: left;">
                    <div class="content-section-wrapper" style="padding: 1% 10% 1% 0;">
                        <div class="section-label">
                            <p class="section-name" title="Click for presets">Gear</p>
                        </div>
                        <div>
                            <br>
                            <p>Current</p>
                            <br><br><br>
                            <p>Target</p>
                            <br>
                        </div>
                        <div class="sub-gear">
                            <br>
                            <input id="input_gear1_current" type="number" class="two_digit_input">
                            <br>
                            <img id="gear1-img" class="gear-display" draggable="false">
                            <br>
                            <input id="input_gear1_target" type="number" class="two_digit_input">
                        </div>
                        <div class="sub-gear">
                            <br>
                            <input id="input_gear2_current" type="number" class="two_digit_input">
                            <br>
                            <img id="gear2-img" class="gear-display" draggable="false">
                            <br>
                            <input id="input_gear2_target" type="number" class="two_digit_input">
                        </div>
                        <div class="sub-gear">
                            <br>
                            <input id="input_gear3_current" type="number" class="two_digit_input">
                            <br>
                            <img id="gear3-img" class="gear-display" draggable="false">
                            <br>
                            <input id="input_gear3_target" type="number" class="two_digit_input">
                        </div>
                    </div>
                </div>
                <div id="char-resource-section" style="width: 100%; padding-bottom: 10px;">
                    <div class="modal-content-section" style="overflow-y: auto; max-height: 200px;">
                        <div class="char-schoolmats-wrapper">
                            <div class="char-mats-wrapper" id="char-bds-wrapper"></div>
                            <div class="char-mats-wrapper" id="char-tns-wrapper"></div>
                        </div>
                        <div class="char-artifacts-wrapper">
                            <div class="char-mats-wrapper" id="char-mainartis-wrapper"></div>
                            <div class="char-mats-wrapper" id="char-subartis-wrapper"></div>
                        </div>
                    </div>
                    <div class="modal-content-section">
                        <div class="char-miscresource-wrapper">
                            <div class="char-misc-box" style="display: none;">
                                <img draggable="false" src="icons/Credit.png"
                                    style="max-width: 80px; max-height: 80px;">
                                <p id="char-Credit" class="char-misc-text" style="align-self: center;"></p>
                            </div>
                            <div class="char-misc-box" style="display: none;">
                                <img draggable="false" src="icons/TN_Secret.png"
                                    style="max-width: 80px; max-height: 80px;">
                                <p id="char-Secret" class="char-misc-text" style="align-self: center;"></p>
                            </div>
                            <div class="char-misc-box" style="display: none;">
                                <img draggable="false" src="icons/exp.png"
                                    style="max-width: 80px; align-self: center; padding: 0px 10px;">
                                <p id="char-XP" class="char-misc-text" style="align-self: center;"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-content-section"
                style="width: 100%; display: flex; justify-content: center; margin-top: 15px;">
                <button id="cancel-button-resource" class="resource-modal-button"
                    onclick="cancelCharModal()">Cancel</button>
                <button id="save-button-resource" class="resource-modal-button" onclick="saveCharChanges()">Save and
                    Close</button>
            </div>
            <div style="height: 10px;"></div>
        </div>
    </div>
    <div class="modal" id="resourceModal">
        <div class="modal-content-wrapper" style="width: 80%;">
            <div class="modal-section-wrapper">
                <div id="table-parent-1" style="width: 100%;"></div>
                <div id="table-parent-2"></div>
                <div id="table-parent-3"></div>
            </div>
            <div id="other-resource-wrapper">
                <div class="resource-box">
                    <img draggable="false" src="icons/Credit.png" style="max-width: 80px; max-height: 80px;">
                    <p id="Credit" class="misc-resource" style="align-self: center;"></p>
                    <div class="input-wrapper" style="width: 60%;">
                        <input id="input-Credit" class="resource-input" type="number" style="position:absolute;">
                    </div>
                </div>
                <div id="xp-input-wrapper" class="resource-box" style="align-items: center; display: none;">
                    <div class="xp-wrapper editable">
                        <img draggable="false" class="xp-icon" src="icons/XP_4.png">
                        <p id="XP_4" class="resource-count-text"></p>
                        <input id="input-XP_4" class="resource-input xp-input" type="number">
                    </div>
                    <div class="xp-wrapper editable">
                        <img draggable="false" class="xp-icon" src="icons/XP_3.png">
                        <p id="XP_3" class="resource-count-text"></p>
                        <input id="input-XP_3" class="resource-input xp-input" type="number">
                    </div>
                    <div class="xp-wrapper editable">
                        <img draggable="false" class="xp-icon" src="icons/XP_2.png">
                        <p id="XP_2" class="resource-count-text"></p>
                        <input id="input-XP_2" class="resource-input xp-input" type="number">
                    </div>
                    <div class="xp-wrapper editable">
                        <img draggable="false" class="xp-icon" src="icons/XP_1.png">
                        <p id="XP_1" class="resource-count-text"></p>
                        <input id="input-XP_1" class="resource-input xp-input" type="number">
                    </div>
                </div>
                <div id="xp-display-wrapper" class="resource-box">
                    <img draggable="false" src="icons/exp.png" style="max-width: 80px; align-self: center;">
                    <p id="Xp" class="misc-resource no-input" style="align-self: center; margin-left: 10px;"></p>
                </div>
                <div class="resource-box">
                    <img draggable="false" src="icons/SecretTech.png" style="max-width: 80px; max-height: 80px;">
                    <p id="Secret" class="misc-resource" style="align-self: center;"></p>
                    <div class="input-wrapper" style="width: 60%;">
                        <input id="input-Secret" class="resource-input" type="number" style="position:absolute;">
                    </div>
                </div>
                <div class="resource-box" style="border: none;">
                    <button id="switch-resource-owned" class="button-switch-display" style="background-color: #c8e6f5"
                        onclick="switchResourceDisplay('Owned')"></button>
                </div>
                <div class="resource-box" style="border: none; display: none;">
                    <button id="switch-resource-remaining" class="button-switch-display"
                        style="background-color: #f5c8dd;" onclick="switchResourceDisplay('Remaining')"></button>
                </div>
                <div class="resource-box" style="border: none;">
                    <button id="switch-resource-total" class="button-switch-display" style="background-color: #c8f5e0;"
                        onclick="switchResourceDisplay('Total')"></button>
                </div>
                <div class="resource-box">
                    <p id="current-resource-display" style="align-self: center; font-size: 1.75em;"></p>
                </div>
                <div id="raid-token-display-wrapper" class="resource-box">
                    <img draggable="false" src="icons/RaidToken.png" style="max-width: 80px; align-self: center;">
                    <p id="RaidTokenCost" class="misc-resource no-input" style="align-self: center; margin-left: 10px;">
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="gearModal">
        <div class="modal-content-wrapper" style="width: 80%; max-height: 80%; overflow-y: auto;">
            <div class="modal-section-wrapper gear-section">
                <div id="table-parent-4" style="width: 100%;"></div>
            </div>
            <div id="other-resource-wrapper">
                <div class="resource-box" style="border: none;">
                    <button id="switch-gear-owned" class="button-switch-display" style="background-color: #c8e6f5"
                        onclick="switchGearDisplay('Owned')"></button>
                </div>
                <div class="resource-box" style="border: none; display: none;">
                    <button id="switch-gear-remaining" class="button-switch-display" style="background-color: #f5c8dd;"
                        onclick="switchGearDisplay('Remaining')"></button>
                </div>
                <div class="resource-box" style="border: none;">
                    <button id="switch-gear-total" class="button-switch-display" style="background-color: #c8f5e0;"
                        onclick="switchGearDisplay('Total')"></button>
                </div>
                <div class="resource-box">
                    <p id="current-gear-display" style="align-self: center; font-size: 1.75em;"></p>
                </div>
            </div>
        </div>
    </div>
    <datalist id="char-options">
    </datalist>
    <div class="footer-wrapper">
        <div class="footer-resource">

            <div class="footer-buttons-wrapper">
                <div class="footer-button" onclick="openResourceModal()" style="display: flex; align-items: center;">
                    <img draggable="false" src="icons/resourceBtn.png">
                    <p>Resources</p>
                </div>
                <div class="footer-button" onclick="openGearModal()" style="display: flex; align-items: center;">
                    <img draggable="false" src="icons/T6_Badge.png">
                    <p>Gear</p>
                </div>
                <div class="footer-button" onclick="teamsToggle()">
                    <p id="teamsEditorButton">Teams Editor</p>
                </div>
                <div class="footer-button" onclick="transferDialog()">
                    <p>Transfer</p>
                </div>
            </div>
            <div class="footer-button">
                <p onclick="gtag('event', 'contest_click')"><a
                        href="https://bluearchive.nexon.com/events/2022/05/contest/885" target="_blank">Contest
                        Submission</a></p>
                <p onclick="gtag('event', 'contest_click')" style="font-size: 1em;"><a
                        href="https://bluearchive.nexon.com/events/2022/05/contest/885" target="_blank">(Vote for me?
                        :P)</a></p>
            </div>
        </div>
    </div>
</body>

</html>